{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts","./src/app/services/api.service.ts","./src/app/services/network.service.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-title>\\n      News Feeds\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">News Feeds</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let item of articles\\\" (click)=\\\"gotoDetails(item)\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-img [src]=\\\"item.urlToImage\\\"></ion-img>\\n      </ion-thumbnail>\\n      <ion-label class=\\\"ion-text-wrap\\\">{{item.title}}</ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"ion-title {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9EOlxcd29ya1xcbmV3cy1mZWVkcy9zcmNcXGFwcFxcaG9tZVxcaG9tZS5wYWdlLnNjc3MiLCJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi10aXRsZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiIsImlvbi10aXRsZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn0iXX0= */\"","import { Component } from '@angular/core';\r\nimport { ApiService } from '../services/api.service';\r\nimport { Router,NavigationExtras } from '@angular/router';\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\nexport class HomePage {\r\n  articles:[];\r\n  constructor(private apiService: ApiService, private router: Router) {\r\n  }\r\n  ionViewDidEnter(){\r\n\r\n    this.apiService.getNews().subscribe((data)=>{\r\n      this.articles = data['articles'];\r\n    });\r\n  }\r\n\r\n  gotoDetails(article:object){\r\n    let navigationExtras: NavigationExtras = {\r\n      state: {\r\n        article: article\r\n      }\r\n    };\r\n    this.router.navigate(['/details'],navigationExtras);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { NetworkService, ConnectionStatus } from './network.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { from } from 'rxjs';\r\nimport { tap } from \"rxjs/operators\";\r\nconst API_STORAGE_KEY = 'news';\r\nconst API_KEY=\"f34ce61c4978483c92a78f8d655c05c1\";\r\nconst API_URL=\"https://newsapi.org/v2/top-headlines\";\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiService {\r\n\r\n  constructor(private httpClient: HttpClient,private storage: Storage,private networkService: NetworkService) { }\r\n  \r\n  getNews(){\r\n    if (this.networkService.getCurrentNetworkStatus() == ConnectionStatus.Offline) {\r\n      // Return the cached data from Storage\r\n      return from(this.getLocalData('feeds'));\r\n    }else{\r\n      return this.httpClient.get(`${API_URL}?sources=techcrunch&apiKey=${API_KEY}`).pipe(\r\n        tap(res => {\r\n          this.setLocalData('feeds', res);\r\n        })\r\n      )\r\n    }\r\n    \r\n  }\r\n  // Save result of API requests\r\n  private setLocalData(key, data) {\r\n    this.storage.set(`${API_STORAGE_KEY}-${key}`, data);\r\n  }\r\n \r\n  // Get cached API result\r\n  private getLocalData(key) {\r\n    return this.storage.get(`${API_STORAGE_KEY}-${key}`);\r\n  }\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\nimport { Network } from '@ionic-native/network/ngx'\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { ToastController, Platform } from '@ionic/angular';\n \nexport enum ConnectionStatus {\n  Online,\n  Offline\n}\n \n@Injectable({\n  providedIn: 'root'\n})\nexport class NetworkService {\n \n  private status: BehaviorSubject<ConnectionStatus> = new BehaviorSubject(ConnectionStatus.Offline);\n \n  constructor(private network: Network, private toastController: ToastController, private plt: Platform) {\n    this.plt.ready().then(() => {\n      this.initializeNetworkEvents();\n      let status =  this.network.type !== 'none' ? ConnectionStatus.Online : ConnectionStatus.Offline;\n      this.status.next(status);\n    });\n  }\n \n  public initializeNetworkEvents() {\n \n    this.network.onDisconnect().subscribe(() => {\n      if (this.status.getValue() === ConnectionStatus.Online) {\n        console.log('WE ARE OFFLINE');\n        this.updateNetworkStatus(ConnectionStatus.Offline);\n      }\n    });\n \n    this.network.onConnect().subscribe(() => {\n      if (this.status.getValue() === ConnectionStatus.Offline) {\n        console.log('WE ARE ONLINE');\n        this.updateNetworkStatus(ConnectionStatus.Online);\n      }\n    });\n  }\n \n  private async updateNetworkStatus(status: ConnectionStatus) {\n    this.status.next(status);\n \n    let connection = status == ConnectionStatus.Offline ? 'Offline' : 'Online';\n    let toast = this.toastController.create({\n      message: `You are now ${connection}`,\n      duration: 3000,\n      position: 'bottom'\n    });\n    toast.then(toast => toast.present());\n  }\n \n  public onNetworkChange(): Observable<ConnectionStatus> {\n    return this.status.asObservable();\n  }\n \n  public getCurrentNetworkStatus(): ConnectionStatus {\n    return this.status.getValue();\n  }\n}"],"sourceRoot":"webpack:///"}